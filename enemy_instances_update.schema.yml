meta:
 name: enemy_instances_update
 size: uint16_t

constants:
 - name: max_instance_count
   value: 64
 - name: wave_spawned_all
   value: 1

variables:
 - name: instances_live
   types:
    - name: instances_live
      type: uint64_t
 - name: last_flat_wave_index
   types:
    - name: last_flat_wave_index
      type: uint8_t
 - name: wave_state
   types:
    - name: wave_state
      type: uint32_t

sheets:
 - name: enemy_positions
   capacity: max_instance_count
   columns:
    - name: positions
      sources:
       - name: positions
         type: float
         count: 2
    - name: way_point_index
      sources:
       - name: way_point_index
         type: uint8_t

ref:
 - name: enemy_instances_bin
   type: enemy_instances
 - name: game_state_bin
   type: game_state
 - name: wave_update_bin
   type: wave_update