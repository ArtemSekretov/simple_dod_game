meta:
 name: collision_damage
 size: uint16_t

constants:
 - name: max_damage_event_count
   value: 64
 - name: max_source_instances_count
   value: 256

context:
 - name: a_collision_grid_bin
   type: collision_grid
 - name: a_collision_source_instances_bin
   type: collision_source_instances
 - name: a_collision_source_radius_bin
   type: collision_source_radius
 - name: a_collision_source_damage_bin
   type: collision_source_damage
 - name: b_collision_grid_bin
   type: collision_grid
 - name: b_collision_source_instances_bin
   type: collision_source_instances
 - name: b_collision_source_radius_bin
   type: collision_source_radius
 - name: b_collision_source_damage_bin
   type: collision_source_damage
 - name: level_update_bin
   type: level_update

sheets:
 - name: damage_events
   capacity: max_damage_event_count
   columns:
    - name: a_position
      sources: 
       - name: a_position
         type: float
         count: 2
    - name: b_position
      sources: 
       - name: b_position
         type: float
         count: 2
    - name: a_value
      sources: 
       - name: a_value
         type: uint16_t
    - name: b_value
      sources: 
       - name: b_value
         type: uint16_t
    - name: a_source_instance_index
      sources: 
       - name: a_source_instance_index
         type: uint8_t
    - name: b_source_instance_index
      sources: 
       - name: b_source_instance_index
         type: uint8_t
    - name: time
      sources: 
       - name: time
         type: float
 - name: accumulated_damage
   capacity: max_source_instances_count
   columns:
    - name: a_value
      sources: 
       - name: a_value
         type: uint16_t
    - name: b_value
      sources: 
       - name: b_value
         type: uint16_t