meta:
 name: wave_update
 size: uint16_t
 import:
  - play_clock

constants:
 - name: state_reset
   value: 1

variables:
 - name: time
   types:
    - name: time
      type: float
 - name: index
   types:
    - name: index
      type: uint8_t
 - name: state
   types:
    - name: state
      type: uint32_t

context:
 - name: enemy_bullets_update_bin
   type: bullets_update
 - name: enemy_instances_bin
   type: enemy_instances
 - name: level_update_bin
   type: level_update
 - name: game_state_bin
   type: game_state

maps:
 - type: play_clock
   variables:
    - source: time
      target: time
    - source: state
      target: state